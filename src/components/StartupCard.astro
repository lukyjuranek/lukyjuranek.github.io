---
import { Image } from 'astro:assets';
import aroaImg from '../assets/img/aroa.png';
import bluebeeImg from '../assets/img/bluebee.png';

interface Props {
  href: string;
  src: string;
  title: string;
  text: string;
  mb?: string;
}

const { href, src, title, text, mb = 'mb-16' } = Astro.props;

// Map image paths to imported images
const imageMap: Record<string, ImageMetadata> = {
  '/img/aroa.png': aroaImg,
  '/img/bluebee.png': bluebeeImg,
};

const image = imageMap[src];
---

<div class={mb}>
  <div class="flex flex-col lg:flex-row mx-8 md:mx-24 transition duration-500 ease-in-out transform hover:scale-105">
    <div class="flex-1">
      <a href={href}>
        {image ? (
          <Image 
            src={image} 
            alt={`${title} platform screenshot`} 
            class="w-full lg:rounded-tl-lg lg:rounded-bl-lg lg:rounded-tr-none rounded-tl-lg rounded-tr-lg"
            loading="lazy"
          />
        ) : (
          <img 
            src={src} 
            alt={`${title} platform screenshot`} 
            class="w-full lg:rounded-tl-lg lg:rounded-bl-lg lg:rounded-tr-none rounded-tl-lg rounded-tr-lg"
            loading="lazy"
          />
        )}
      </a>
    </div>
    <div class="flex-1 bg-secondary p-8 lg:rounded-tr-lg lg:rounded-br-lg rounded-bl-lg rounded-br-lg lg:rounded-bl-none">
      <h2 class="text-3xl font-medium text-white mb-4">{title}</h2>
      <p class="text-gray-300">{text}</p>
    </div>
  </div>
</div>

<style>
  .bg-secondary {
    background-color: #191919;
  }
</style>
